media_folder: input/assets
public_folder: /assets
publish_mode: editorial_workflow

backend:
  name: git-gateway
  branch: master
  repo: olevett/sedos.co.uk

collections:
  - name: "shows"
    label: "Show"
    description: Somewhere to put shows
    folder: "input/shows"
    slug: "{{title}}"
    create: true
    fields:
      - label: Title
        name: title
        widget: string
        tagname: h1
      - label: Authors
        name: authors
        widget: string
        tagname: h4
        required: false
      - label: Authors (second line)
        name: authors2
        widget: string
        tagname: h4
        required: false
      - label: Authors (third line line)
        name: authors3
        widget: string
        tagname: h3
        required: false
      - label: Subtitle (shown on home page/show details page below authors)
        name: subtitle
        widget: string
        tagname: h2
        required: false
      - name: showtimes
        label: Show times
        widget: list
        required: false
        fields:
          - label: Show time
            widget: datetime
            name: time
            format: YYYY-MM-DD hh:mmZ
      - name: showtime-summary
        label: Summary of show times, shown at the footer of the home page/show details header
        widget: string
        required: false
      - label: Venue
        name: venue
        widget: string
        required: false
      - label: Ticket Prices
        name: ticket-prices
        widget: text
        required: false
      - label: Primary colour (this gets used along side the header image)
        name: primary-color
        widget: string
        required: false
      - label: Header image (displayed at the top of the home page and show page)
        name: header-image
        widget: image
        required: false
      - label: Flyer image (displayed on shows page)
        name: flyer
        widget: image
        required: false
      - label: Show details
        name: body
        widget: markdown
  - name: show-details
    label: Show Details
    description: Details about shows
    folder: input/show-details
    slug: {{title}}
    create: true
    fields:
      - name: title
        label: Title
        widget: string
      - name: show
        label: Show
        widget: relation
        collection: shows
        searchFields: ["title"]
        valueField: title
      - name: section
        label: Section
        widget: string
      - name: body
        label: Section content
        widget: markdown
  - name: news
    label: News
    description: News articles
    folder: input/news
    slug: "{{year}}-{{month}}-{{day}}-{{title}}"
    create: true
    fields:
      - name: title
        label: Title
        widget: string
        tagname: h1
      - name: date
        label: Publish Date
        widget: date
        format: YYYY-MM-DD
      - name: image
        label: Image (used on the home page/all news for the card tile)
        widget: image
      - name: extract
        label: Extract (used on the home page/all news page, if an image isn't set)
        widget: string
      - name: body
        label: Article content
        widget: markdown
  - name: events
    label: Events
    description: Events
    folder: input/events
    slug: "{{title}}"
    create: true
    fields:
      - name: title
        label: Title
        widget: string
        tagname: h1
      - name: times
        label: Event times
        widget: list
        fields:
          - label: event time
            widget: datetime
            name: time
            format: YYYY-MM-DD hh:mmZ
      - name: image
        label: Featured Image
        widget: image
      - name: venue
        label: Venue
        widget: string
        required: false
      - name: recurrence
        label: Event recurrence (e.g. every Tuesday) shown on the event sidebar, also shown on the home page/upcoming events cards
        widget: string
        required: false
      - label: Ticket Prices
        name: ticket-prices
        widget: text
        required: false
      - label: Event details
        name: body
        widget: markdown
  - name: venues
    label: Venues
    folder: input/venues
    create: true
    slug: "{{key}}"
    fields:
      - {label: name, name: name, widget: string}
      - {label: key, name: key, widget: string}
  - name: settings
    label: Settings
    files:
    - file: input/about.yml
      label: about page
      fields:
        - {label: title, name: title, widget: string}
        - {label: row, name: row, widget: number, valueType: int}
        - {label: column, name: column, widget: number, valueType: int}
        - {label: image, name: image, widget: image}
        - {label: link, name: link, widget: string}

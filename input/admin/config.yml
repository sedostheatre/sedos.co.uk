media_folder: input/assets
public_folder: assets
publish_mode: editorial_workflow

backend:
  name: git-gateway
  branch: master
  repo: olevett/sedos.co.uk

collections:
  - name: "shows"
    label: "Show"
    description: Somewhere to put shows
    folder: "input/shows"
    slug: "{{title}}"
    create: true
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        tagname: "h1"
      - label: "Subtitle"
        name: "subtitle"
        widget: "string"
        tagname: "h2"
        required: false
      - label: "Authors"
        name: "authors"
        widget: "string"
        tagname: "h4"
        required: false
      - label: "Authors (second line)"
        name: "authors2"
        widget: "string"
        tagname: "h4"
        required: false
      - name: showtimes
        label: Show times
        widget: list
        required: false
      - name: showtime-summary
        label: "Summary of show times"
        widget: "string"
        required: false
      - label: "Show details"
        name: "body"
        widget: "markdown"
      - label: Primary colour (this gets used along side the header image)
        name: "primary-color"
        widget: "string"
        required: false
      - label: Header image (displayed on home page and show page)
        name: header-image
        widget: "image"
        required: false
      - label: Flyer image (displayed on shows page)
        name: flyer
        widget: image
        required: false
      - label: Venue
        name: venue
        widget: image
        required: false
      - label: Ticket Prices
        name: ticket-prices
        widget: text
        required: false
  - name: "show-details"
    label: "Show Details"
    description: >
      Details about shows
    folder: "input/show-details"
    slug: "{{title}}"
    create: true
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Show"
        name: "show"
        widget: "relation"
        collection: "shows"
        searchFields: ["title"]
        valueField: "title"
      - label: "Section"
        name: "section"
        widget: "string"
      - label: "Section content"
        name: "body"
        widget: "markdown"
  - name: "news"
    label: "News"
    description: >
      News articles
    folder: "input/news"
    slug: "{{year}}-{{month}}-{{day}}-{{title}}"
    create: true
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        tagname: "h1"
      - label: "Publish Date"
        name: "date"
        widget: "date"
        format: "YYYY-MM-DD"
      - label: "Extract"
        name: "extract"
        widget: "string"
      - label: "Article content"
        name: "body"
        widget: "markdown"
  - name: "events"
    label: "Event"
    description: >
      Events
    folder: "input/events"
    slug: "{{title}}"
    create: true
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        tagname: "h1"
      - label: "Event details"
        name: "body"
        widget: "markdown"
      - label: Event times
        widget: list
        name: times
        field:
          - label: "event time"
            widget: "datetime"
            name: "event time"
            format: "YYYY-MM-DD hh:mmZ"
      - label: "Featured Image"
        name: "image"
        widget: "image"

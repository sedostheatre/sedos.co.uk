@{
    var topLevelNav = Outputs.FromPipeline("TopLevelNav").Single();
}

<div class="container fixed-top bg-light">
    <nav class="navbar navbar-expand-lg main-navigation navbar-light">
        <a class="navbar-brand" href="@Context.GetLink("/")">
            <img class="logo" alt="sedos logo" src="@Context.GetLink("/assets/images/logo/logo-blue.png")"/>
        </a>

        <button class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#topLevelNav"
                aria-controls="topLevelNav"
                aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="topLevelNav">
            <ul class="navbar-nav mr-auto">
                @foreach(var navItem in topLevelNav.Get<IEnumerable<IDocument>>("top-level-nav"))
                {
                    var active = Context.GetLink(Model).Contains(navItem["url"].ToString());
                    <li class="nav-item">
                        <a class="nav-link @(active ? "active" : "")"
                           href="@navItem["url"]">
                            @navItem["name"]<span class="sr-only">@(active ? "(current)" : "")</span>
                        </a>
                    </li>
                }
            </ul>
        </div>
    </nav>
</div>
